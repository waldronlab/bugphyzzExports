========================================================================= 
Log Path: log_file.log 
Program Path: /home/user/Projects/CUNY/bugphyzzExports/inst/scripts/export_bugphyzz.R 
Working Directory: /home/user/Projects/CUNY/bugphyzzExports 
User Name: user 
R Version: 4.3.1 (2023-06-16) 
Machine: pop-os x86_64 
Operating System: Linux 6.5.6-76060506-generic #202310061235~1697396945~22.04~9283e32 SMP PREEMPT_DYNAMIC Sun O 
Base Packages: stats graphics grDevices utils datasets methods base Other Packages: bugphyzzExports_0.0.0.9004 ggplot2_3.4.4 tidyr_1.3.0 purrr_1.0.2 dplyr_1.1.3 phytools_1.9-16 maps_3.4.1 ape_5.7-1 data.tree_1.0.0 taxPPro_0.1.0 bugphyzz_0.0.1.4 logr_1.3.4 
Log Start Time: 2023-11-01 17:41:54.719549 
========================================================================= 
Importing 3 physiologies for propagation: aerophilicity, acetate producing, growth temperature. 

Seaching for attributes of type range. They will be converted to type multistate-intersection based on thresholds. 

growth temperature is of type range and we have a threshold for it. Converting growth temperature to multistate-intersection. 
 

Preparing data for propagation... 

Preparing acetate producing. 
Preparing aerophilicity. 
Preparing growth temperature. 
 

Total time preparing data for propagation was: 
   user  system elapsed 
 13.321   0.283  13.596 

Some NCBI IDs (taxids) need to be updated: 

$aerophilicity
$aerophilicity[[1]]
[1] "65497, 287094, 196083, 136160, 513651, 1606016, 1646339, 126790, 1830421, 165807, 134962, 48937, 263820, 1311788, 342610, 166934, 1398496, 307251, 262776, 45461, 211759, 244407, 332057, 332056, 46170, 46170, 68202, 84593, 62153, 109214, 1398560, 355929, 1551, 1560, 86662, 495036, 1345697, 1166016, 741091, 195041, 140100, 62153, 675810, 65497, 861208, 340044, 335659, 546899, 656024, 440512, 147710, 931223, 420233, 332056, 68570, 68202, 563191, 665937, 469586, 469587, 665938, 469594, 52765, 52766, 699245, 97139, 327817, 644968, 228748, 477693, 652712, 796939, 796940, 36876, 93930, 220622, 1796653"

$aerophilicity[[2]]
[1] "2751472, 2679994, 1704088, 648567"


$`growth temperature`
$`growth temperature`[[1]]
[1] "2832, 265526, 67004, 338187, 5749, 2832, 48937, 220622, 29398, 2832, 68570, 1172, 1172, 262776, 1172, 35624, 330, 330, 330, 330, 330, 1050843, 1121384, 2970916, 1796653, 263820, 52766, 52765, 93930"

$`growth temperature`[[2]]
[1] "2751472, 1704088, 2850388, 2679994, 879618, 1441714, 1544738, 648567, 68570, 67334, 285567, 1176194, 1919277, 196180"



Preparing tree data (NCBI and LTP). 
   user  system elapsed 
 19.432   0.211  19.632 

Performing propagation. It started at 2023-11-01 17:42:42.540007. 

acetate producing has 24 taxa. 

Mapping source annotations to the NCBI tree for acetate producing. 
   user  system elapsed 
  1.262   0.157   1.417 

Performing taxonomic pooling (round 1 of propagation) for binary. 
   user  system elapsed 
  4.008   0.150   4.156 

Performing inhertiance1 (round 1 of propagation) for acetate producing. 
   user  system elapsed 
  2.095   0.207   2.300 

Not enough data for ASR. Skipping ASR for acetate producing. Stopped after the first round of propagation. 

Cleaning nodes for binary. 
   user  system elapsed 
  1.162   0.126   1.286 

Number of rows for binary were 150. It took 0 mins. 

 

aerophilicity has 15,874 taxa. 

Mapping source annotations to the NCBI tree for aerophilicity. 
   user  system elapsed 
  5.439   0.032   5.467 

Performing taxonomic pooling (round 1 of propagation) for multistate-intersection. 
   user  system elapsed 
 78.574   0.618  79.153 

Performing inhertiance1 (round 1 of propagation) for aerophilicity. 
Error : object 'ncbi_tree' not found 
Traceback: 
 [1] "10: dplyr_quosures(...)"                                                          
 [2] "9: force(dots)"                                                                   
 [3] "8: mutate_cols(.data, dplyr_quosures(...), by)"                                   
 [4] "7: mutate.data.frame(df, target_scores = rep(1/n, n), score_diff = .data$Score - "
 [5] "       .data$target_scores, Score = .data$Score - adjF * .data$score_diff, "      
 [6] "       NCBI_ID = node$name, Evidence = \"inh\", Taxon_name = node$Taxon_name, "   
 [7] "       Rank = node$Rank, taxid = node$taxid, )"                                   
 [8] "6: dplyr::mutate(df, target_scores = rep(1/n, n), score_diff = .data$Score - "    
 [9] "       .data$target_scores, Score = .data$Score - adjF * .data$score_diff, "      
[10] "       NCBI_ID = node$name, Evidence = \"inh\", Taxon_name = node$Taxon_name, "   
[11] "       Rank = node$Rank, taxid = node$taxid, )"                                   
[12] "5: dplyr::select(dplyr::mutate(df, target_scores = rep(1/n, n), "                 
[13] "       score_diff = .data$Score - .data$target_scores, Score = .data$Score - "    
[14] "           adjF * .data$score_diff, NCBI_ID = node$name, Evidence = \"inh\", "    
[15] "       Taxon_name = node$Taxon_name, Rank = node$Rank, taxid = node$taxid, "      
[16] "       ), -.data$target_scores, -.data$score_diff)"                               
[17] "4: fun(node, ...)"                                                                
[18] "3: Do(t, fun, ...)"                                                               
[19] "2: ncbi_tree$Do(inh1, traversal = \"pre-order\")"                                 
[20] "1: system.time({"                                                                 
[21] "       ncbi_tree$Do(inh1, traversal = \"pre-order\")"                             
[22] "   })"                                                                            
========================================================================= 
Log End Time: 2023-11-01 17:47:07.425372 
Log Elapsed Time: 0 00:05:12 
